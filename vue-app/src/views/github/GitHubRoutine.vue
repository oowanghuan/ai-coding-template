<template>
  <div class="routine-page">
    <header class="page-header">
      <div class="header-content">
        <div class="header-icon">ğŸ›¡ï¸</div>
        <div class="header-text">
          <h1>å›¢é˜Ÿ GitHub åä½œ"æ—©æ™šè¯¾"è§„èŒƒ</h1>
          <p class="core-principle">æ ¸å¿ƒåŸåˆ™ï¼š<strong>ä»£ç ä¸è¿‡å¤œï¼Œå†²çªæ—©è§£å†³ã€‚</strong></p>
          <p class="slogan">å£å·ï¼š<span class="highlight">ä¸Šç­ç¬¬ä¸€ä»¶äº‹ Pullï¼Œä¸‹ç­æœ€åä¸€ä»¶äº‹ Pushã€‚</span></p>
        </div>
      </div>
    </header>

    <div class="routine-container">
      <!-- æ—¶é—´çº¿ -->
      <div class="timeline">
        <!-- æ—©æ™¨ -->
        <div class="timeline-item morning">
          <div class="time-badge">
            <span class="time-icon">ğŸ•’</span>
            <span class="time-text">09:00 AM</span>
          </div>
          <div class="timeline-content">
            <div class="section-header">
              <span class="section-num">1</span>
              <h2>æ—©æ™¨ï¼šä¸”æ…¢å¼€å·¥ï¼Œå…ˆåŒæ­¥</h2>
            </div>

            <div class="scenario-box">
              <div class="scenario-label">åœºæ™¯</div>
              <p>ä½ åˆšåˆ°å…¬å¸ï¼Œå–äº†ä¸€å£å’–å•¡ï¼Œå‡†å¤‡å¼€å§‹å†™ä»£ç ã€‚</p>
            </div>

            <div class="action-box">
              <div class="action-label">åŠ¨ä½œ</div>
              <p>åœ¨å†™ä»»ä½•ä¸€è¡Œæ–°ä»£ç ä¹‹å‰ï¼Œ<strong>å¿…é¡»</strong>æ‰§è¡Œä¸€æ¬¡æ‹‰å–ã€‚</p>
              <div class="code-block">
                <code>git checkout main</code>
                <code>git pull origin main</code>
              </div>
            </div>

            <div class="why-box">
              <div class="why-label">ä¸ºä»€ä¹ˆï¼Ÿ</div>
              <p>ä½ çš„åŒäº‹ï¼ˆæ¯”å¦‚ Bobï¼‰å¯èƒ½æ˜¨æ™šåŠ ç­æ¨äº†æ–°ä»£ç ã€‚å¦‚æœä½ ä¸æ‹‰å–ç›´æ¥å†™ï¼Œä½ çš„èµ·è·‘çº¿å°±æ˜¯"æ—§çš„"ï¼Œç­‰ä½ å†™å®Œå†æ¨ï¼Œ<span class="danger">å¿…å®šå†²çª</span>ã€‚</p>
            </div>

            <div class="rule-box">
              <span class="rule-icon">âš–ï¸</span>
              <span class="rule-text">é“å¾‹ï¼šä¸ Pull ä¸å¼€å·¥ã€‚</span>
            </div>
          </div>
        </div>

        <!-- ç™½å¤© -->
        <div class="timeline-item daytime">
          <div class="time-badge">
            <span class="time-icon">ğŸ’»</span>
            <span class="time-text">10:00 - 17:00</span>
          </div>
          <div class="timeline-content">
            <div class="section-header">
              <span class="section-num">2</span>
              <h2>ç™½å¤©ï¼šå°æ­¥å¿«è·‘ï¼Œå‹¤å­˜æ¡£</h2>
            </div>

            <div class="scenario-box">
              <div class="scenario-label">åœºæ™¯</div>
              <p>å¼€å‘ä¸€ä¸ªå¤§åŠŸèƒ½ï¼ˆFeatureï¼‰ã€‚</p>
            </div>

            <div class="action-box">
              <div class="action-label">åŠ¨ä½œ</div>
              <p>ä¸è¦ç­‰å†™å®Œ 500 è¡Œä»£ç æ‰æäº¤ã€‚æ¯å®Œæˆä¸€ä¸ªå°çš„é€»è¾‘é—­ç¯ï¼ˆæ¯”å¦‚å†™å®Œäº†ä¸€ä¸ªå‡½æ•°ï¼Œæ”¹å¥½äº†ä¸€ä¸ªæ ·å¼ï¼‰ï¼Œå°±æœ¬åœ° Commit ä¸€æ¬¡ã€‚</p>
              <div class="code-block">
                <code>git add .</code>
                <code>git commit -m "feat: å®Œæˆäº†ç™»å½•æ¡†æ ·å¼"</code>
                <code class="comment"># ... åˆè¿‡äº†ä¸€å°æ—¶ ...</code>
                <code>git add .</code>
                <code>git commit -m "fix: ä¿®å¤äº†è¾“å…¥æ¡†æ ¡éªŒ Bug"</code>
              </div>
            </div>

            <div class="why-box">
              <div class="why-label">ä¸ºä»€ä¹ˆï¼Ÿ</div>
              <p>Commit æ˜¯ä½ çš„<span class="highlight">"æ¸¸æˆå­˜æ¡£"</span>ã€‚å­˜æ¡£è¶Šå¯†ï¼Œå†™å´©äº†å›æ»šçš„ä»£ä»·è¶Šå°ã€‚è¿™ä¹Ÿæ˜¯ç»™åŒäº‹çœ‹çš„"å·¥ä½œæ—¥å¿—"ã€‚</p>
            </div>
          </div>
        </div>

        <!-- å‚æ™š -->
        <div class="timeline-item evening">
          <div class="time-badge">
            <span class="time-icon">ğŸŒ™</span>
            <span class="time-text">18:00 PM</span>
          </div>
          <div class="timeline-content">
            <div class="section-header">
              <span class="section-num">3</span>
              <h2>å‚æ™šï¼šä¸‹ç­å‰ï¼Œå¿…é¡»äº¤ä½œä¸š</h2>
            </div>

            <div class="scenario-box">
              <div class="scenario-label">åœºæ™¯</div>
              <p>å‡†å¤‡æ”¶æ‹¾åŒ…å›å®¶ã€‚</p>
            </div>

            <div class="action-box">
              <div class="action-label">åŠ¨ä½œ</div>
              <p>ç¡®ä¿æœ¬åœ°ä»£ç å·²ç» Commitï¼Œç„¶åå°è¯•æ¨é€åˆ°äº‘ç«¯ã€‚</p>
            </div>

            <!-- æƒ…å†µ A -->
            <div class="case-box case-success">
              <div class="case-header">
                <span class="case-icon">âœ…</span>
                <span class="case-title">æƒ…å†µ Aï¼šä¸€åˆ‡é¡ºåˆ©</span>
              </div>
              <div class="code-block">
                <code>git push origin main</code>
                <code class="success"># æ˜¾ç¤º Success -> å…³æœºå›å®¶ ğŸƒâ€â™‚ï¸</code>
              </div>
            </div>

            <!-- æƒ…å†µ B -->
            <div class="case-box case-error">
              <div class="case-header">
                <span class="case-icon">ğŸ›‘</span>
                <span class="case-title">æƒ…å†µ Bï¼šæŠ¥é”™ Rejected (è¢«æ‹’ç»)</span>
              </div>
              <div class="case-reason">
                <strong>åŸå› ï¼š</strong>æœ‰äººï¼ˆBobï¼‰åœ¨ä½ å‰é¢ Push äº†ï¼Œäº‘ç«¯æœ‰äº†æ–°ä¸œè¥¿ã€‚
              </div>

              <div class="sop-box">
                <div class="sop-header">SOP (æ ‡å‡†å¤„ç†æµç¨‹)ï¼š</div>
                <div class="sop-steps">
                  <div class="sop-step">
                    <span class="step-num">1</span>
                    <div class="step-content">
                      <strong>å†·é™ï¼š</strong>ä¸è¦æ…Œï¼Œä¸è¦å¼ºè¡Œè¦†ç›–ã€‚
                    </div>
                  </div>
                  <div class="sop-step">
                    <span class="step-num">2</span>
                    <div class="step-content">
                      <strong>æ‹‰å–ï¼š</strong>æŠŠå¯¹æ–¹çš„ä»£ç æ‹‰ä¸‹æ¥åˆå¹¶ã€‚
                      <div class="code-block mini">
                        <code>git pull origin main</code>
                        <code class="comment"># Git ä¼šè‡ªåŠ¨å¼¹å‡ºåˆå¹¶æç¤ºï¼Œä¿å­˜é€€å‡ºå³å¯ï¼ˆå¦‚æœæ— ä»£ç å†²çªï¼‰</code>
                      </div>
                    </div>
                  </div>
                  <div class="sop-step">
                    <span class="step-num">3</span>
                    <div class="step-content">
                      <strong>å†æ¬¡æ¨é€ï¼š</strong>
                      <div class="code-block mini">
                        <code>git push origin main</code>
                        <code class="success"># è¿™æ¬¡ä¸€å®šæˆåŠŸ -> å…³æœºå›å®¶ ğŸƒâ€â™‚ï¸</code>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- å†²çªå¤„ç† -->
        <div class="timeline-item conflict">
          <div class="time-badge warning">
            <span class="time-icon">âš ï¸</span>
            <span class="time-text">ç‰¹åˆ«æ¡æ¬¾</span>
          </div>
          <div class="timeline-content">
            <div class="section-header">
              <span class="section-num">4</span>
              <h2>å†²çªå¤„ç† (Conflict)</h2>
            </div>

            <div class="conflict-trigger">
              å¦‚æœåœ¨ <code>git pull</code> æ—¶æç¤º <span class="danger">CONFLICT (content)</span>ï¼š
            </div>

            <div class="conflict-steps">
              <div class="conflict-step">
                <span class="step-icon">ğŸš«</span>
                <span>ä¸è¦ç›´æ¥æäº¤ã€‚</span>
              </div>
              <div class="conflict-step">
                <span class="step-icon">ğŸ”</span>
                <span>æ‰“å¼€ä»£ç ç¼–è¾‘å™¨ï¼Œæœç´¢ <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>ã€‚</span>
              </div>
              <div class="conflict-step">
                <span class="step-icon">ğŸ¤”</span>
                <span>äººå·¥å†³å®šï¼šä¿ç•™ä½ çš„ï¼Ÿä¿ç•™ä»–çš„ï¼Ÿè¿˜æ˜¯éƒ½è¦ï¼Ÿ</span>
              </div>
              <div class="conflict-step">
                <span class="step-icon">âœ…</span>
                <span>ä¿®æ”¹å®Œåï¼Œæ‰§è¡Œï¼š</span>
              </div>
            </div>

            <div class="code-block">
              <code>git add .</code>
              <code>git commit -m "fix: è§£å†³ä¸ Bob çš„ä»£ç å†²çª"</code>
              <code>git push origin main</code>
            </div>
          </div>
        </div>
      </div>

      <!-- æ€»ç»“ -->
      <div class="summary-section">
        <div class="summary-header">
          <span class="summary-icon">ğŸ“¢</span>
          <h2>æ€»ç»“</h2>
        </div>
        <p class="summary-intro">è®°ä½è¿™ä¸ªå¾ªç¯ï¼Œä¿ä½ å¼€å‘æ— å¿§ï¼š</p>

        <div class="workflow-cycle">
          <div class="cycle-step pull">
            <span class="cycle-icon">ğŸ”„</span>
            <span class="cycle-label">Pull</span>
            <span class="cycle-time">(æ—©æ™¨)</span>
          </div>
          <div class="cycle-arrow">â¡ï¸</div>
          <div class="cycle-step commit">
            <span class="cycle-icon">âœï¸</span>
            <span class="cycle-label">Commit</span>
            <span class="cycle-time">(ç™½å¤©)</span>
          </div>
          <div class="cycle-arrow">â¡ï¸</div>
          <div class="cycle-step pull-check">
            <span class="cycle-icon">ğŸ”„</span>
            <span class="cycle-label">Pull</span>
            <span class="cycle-time">(æ¨å‰æ£€æŸ¥)</span>
          </div>
          <div class="cycle-arrow">â¡ï¸</div>
          <div class="cycle-step push">
            <span class="cycle-icon">ğŸš€</span>
            <span class="cycle-label">Push</span>
            <span class="cycle-time">(å‚æ™š)</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
// æ—©æ™šè¯¾è§„èŒƒé¡µé¢ - æ— éœ€é¢å¤–é€»è¾‘
</script>

<style scoped>
.routine-page {
  --bg: #0d1117;
  --card-bg: #161b22;
  --border: #30363d;
  --text-main: #c9d1d9;
  --text-dim: #8b949e;

  --c-morning: #f59e0b;
  --c-daytime: #3b82f6;
  --c-evening: #a855f7;
  --c-conflict: #ef4444;
  --c-success: #10b981;

  min-height: 100vh;
  background: var(--bg);
  color: var(--text-main);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* Header */
.page-header {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(168, 85, 247, 0.15) 100%);
  border-bottom: 1px solid var(--border);
  padding: 40px;
}

.header-content {
  max-width: 1000px;
  margin: 0 auto;
  display: flex;
  align-items: flex-start;
  gap: 20px;
}

.header-icon {
  font-size: 48px;
}

.header-text h1 {
  font-size: 28px;
  font-weight: 700;
  color: #fff;
  margin: 0 0 12px 0;
}

.core-principle {
  font-size: 16px;
  color: var(--text-dim);
  margin: 0 0 8px 0;
}

.core-principle strong {
  color: var(--c-morning);
}

.slogan {
  font-size: 14px;
  color: var(--text-dim);
  margin: 0;
}

.highlight {
  color: var(--c-success);
  font-weight: 600;
}

.danger {
  color: var(--c-conflict);
  font-weight: 600;
}

/* Container */
.routine-container {
  max-width: 1000px;
  margin: 0 auto;
  padding: 40px 20px;
}

/* Timeline */
.timeline {
  position: relative;
  padding-left: 40px;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 15px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, var(--c-morning), var(--c-daytime), var(--c-evening), var(--c-conflict));
}

.timeline-item {
  position: relative;
  margin-bottom: 40px;
}

.timeline-item::before {
  content: '';
  position: absolute;
  left: -33px;
  top: 8px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 3px solid;
}

.timeline-item.morning::before { border-color: var(--c-morning); background: var(--bg); }
.timeline-item.daytime::before { border-color: var(--c-daytime); background: var(--bg); }
.timeline-item.evening::before { border-color: var(--c-evening); background: var(--bg); }
.timeline-item.conflict::before { border-color: var(--c-conflict); background: var(--bg); }

.time-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 700;
  margin-bottom: 15px;
}

.morning .time-badge { background: rgba(245, 158, 11, 0.15); color: var(--c-morning); }
.daytime .time-badge { background: rgba(59, 130, 246, 0.15); color: var(--c-daytime); }
.evening .time-badge { background: rgba(168, 85, 247, 0.15); color: var(--c-evening); }
.conflict .time-badge { background: rgba(239, 68, 68, 0.15); color: var(--c-conflict); }

.time-icon {
  font-size: 16px;
}

.timeline-content {
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 25px;
}

.section-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}

.section-num {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 700;
  color: #fff;
}

.section-header h2 {
  font-size: 18px;
  font-weight: 700;
  color: #fff;
  margin: 0;
}

/* Boxes */
.scenario-box,
.action-box,
.why-box {
  margin-bottom: 15px;
  padding: 15px;
  border-radius: 8px;
  background: rgba(0, 0, 0, 0.2);
}

.scenario-box { border-left: 3px solid var(--text-dim); }
.action-box { border-left: 3px solid var(--c-daytime); }
.why-box { border-left: 3px solid var(--c-morning); }

.scenario-label,
.action-label,
.why-label {
  font-size: 10px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 8px;
}

.scenario-label { color: var(--text-dim); }
.action-label { color: var(--c-daytime); }
.why-label { color: var(--c-morning); }

.scenario-box p,
.action-box p,
.why-box p {
  font-size: 14px;
  color: var(--text-main);
  margin: 0;
  line-height: 1.6;
}

/* Code Block */
.code-block {
  background: #010409;
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 12px 15px;
  margin-top: 10px;
  font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
}

.code-block code {
  display: block;
  font-size: 13px;
  color: #e6edf3;
  margin-bottom: 4px;
}

.code-block code:last-child {
  margin-bottom: 0;
}

.code-block code.comment {
  color: #6e7681;
  font-style: italic;
}

.code-block code.success {
  color: var(--c-success);
}

.code-block.mini {
  margin-top: 8px;
  padding: 8px 12px;
}

.code-block.mini code {
  font-size: 12px;
}

/* Rule Box */
.rule-box {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 15px;
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(245, 158, 11, 0.3);
  border-radius: 8px;
  margin-top: 15px;
}

.rule-icon {
  font-size: 20px;
}

.rule-text {
  font-size: 14px;
  font-weight: 700;
  color: var(--c-morning);
}

/* Case Boxes */
.case-box {
  margin-top: 15px;
  border-radius: 8px;
  overflow: hidden;
}

.case-header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 15px;
  font-weight: 700;
  font-size: 14px;
}

.case-success .case-header {
  background: rgba(16, 185, 129, 0.15);
  color: var(--c-success);
}

.case-error .case-header {
  background: rgba(239, 68, 68, 0.15);
  color: var(--c-conflict);
}

.case-box .code-block {
  border-radius: 0;
  border-left: none;
  border-right: none;
  border-bottom: none;
}

.case-reason {
  padding: 12px 15px;
  font-size: 13px;
  color: var(--text-dim);
  background: rgba(0, 0, 0, 0.2);
}

/* SOP Box */
.sop-box {
  padding: 15px;
  background: rgba(0, 0, 0, 0.2);
}

.sop-header {
  font-size: 12px;
  font-weight: 700;
  color: var(--text-dim);
  margin-bottom: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.sop-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.sop-step {
  display: flex;
  gap: 12px;
}

.sop-step .step-num {
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--c-evening);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
  color: #fff;
  flex-shrink: 0;
}

.sop-step .step-content {
  flex: 1;
  font-size: 13px;
  color: var(--text-main);
  line-height: 1.5;
}

/* Conflict Section */
.conflict-trigger {
  font-size: 14px;
  color: var(--text-main);
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 8px;
  border: 1px solid rgba(239, 68, 68, 0.2);
}

.conflict-trigger code {
  background: rgba(0, 0, 0, 0.3);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: monospace;
}

.conflict-steps {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 15px;
}

.conflict-step {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 14px;
}

.conflict-step .step-icon {
  font-size: 18px;
}

.conflict-step code {
  background: rgba(239, 68, 68, 0.2);
  padding: 2px 6px;
  border-radius: 4px;
  font-family: monospace;
  color: var(--c-conflict);
}

/* Summary Section */
.summary-section {
  margin-top: 50px;
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 30px;
  text-align: center;
}

.summary-header {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-bottom: 15px;
}

.summary-icon {
  font-size: 28px;
}

.summary-header h2 {
  font-size: 22px;
  font-weight: 700;
  color: #fff;
  margin: 0;
}

.summary-intro {
  font-size: 16px;
  color: var(--text-dim);
  margin-bottom: 25px;
}

/* Workflow Cycle */
.workflow-cycle {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}

.cycle-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 15px 20px;
  border-radius: 12px;
  min-width: 100px;
}

.cycle-step.pull,
.cycle-step.pull-check {
  background: rgba(59, 130, 246, 0.15);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.cycle-step.commit {
  background: rgba(245, 158, 11, 0.15);
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.cycle-step.push {
  background: rgba(16, 185, 129, 0.15);
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.cycle-icon {
  font-size: 24px;
}

.cycle-label {
  font-size: 14px;
  font-weight: 700;
  color: #fff;
}

.cycle-time {
  font-size: 11px;
  color: var(--text-dim);
}

.cycle-arrow {
  font-size: 20px;
  color: var(--text-dim);
}

/* Responsive */
@media (max-width: 768px) {
  .header-content {
    flex-direction: column;
    text-align: center;
  }

  .header-icon {
    font-size: 40px;
  }

  .header-text h1 {
    font-size: 22px;
  }

  .timeline {
    padding-left: 30px;
  }

  .timeline::before {
    left: 10px;
  }

  .timeline-item::before {
    left: -28px;
  }

  .workflow-cycle {
    gap: 8px;
  }

  .cycle-step {
    padding: 10px 15px;
    min-width: 80px;
  }

  .cycle-arrow {
    font-size: 16px;
  }
}
</style>
