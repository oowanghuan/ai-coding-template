# 90_PROGRESS_LOG.yaml
# 功能模块：{feature_name}
# 最后更新：{timestamp}

# ============================================================
# 元信息
# ============================================================
meta:
  feature: "{feature_id}"                    # 功能 ID（目录名）
  feature_name: "{feature_name}"             # 功能显示名称
  current_phase: 1                           # 当前阶段 (0-7)
  status: wip                                # done | wip | blocked | pending
  owner: "@{owner}"                          # 负责人
  started_at: "{start_date}"                 # 开始日期 YYYY-MM-DD
  last_updated: "{timestamp}"                # 最后更新 ISO 8601
  target_date: "{target_date}"               # 目标完成日期（可选）

# ============================================================
# Phase 0: Foundation（基础建设）- 项目级，通常跳过
# ============================================================
# phase_0_foundation:
#   status: done | wip | pending | skipped
#   notes: "使用项目级 _system 配置"

# ============================================================
# Phase 1: Kickoff（功能启动）
# ============================================================
phase_1_kickoff:
  status: pending                            # done | wip | pending | blocked
  start_date: null
  end_date: null
  completion_pct: 0                          # 0-100

  tasks:
    - id: "{PREFIX}-KICK-001"
      task: "创建功能目录 docs/{feature_id}/"
      status: pending                        # done | wip | pending | blocked
      priority: P0                           # P0 | P1 | P2
      completed_at: null
      notes: ""

    - id: "{PREFIX}-KICK-002"
      task: "编写 10_CONTEXT.md 功能背景文档"
      status: pending
      priority: P0
      verification: "包含功能概述、边界定义、用户故事、约束条件"
      completed_at: null

# ============================================================
# Phase 2: Spec（规格定义）
# ============================================================
phase_2_spec:
  status: pending
  start_date: null
  end_date: null
  completion_pct: 0

  tasks:
    - id: "{PREFIX}-SPEC-001"
      task: "编写 21_UI_FLOW_SPEC.md 或 20_API_SPEC.md"
      status: pending
      priority: P0
      verification: "包含组件清单、交互规则、边界条件"
      completed_at: null

# ============================================================
# Phase 3: Demo（原型验证）
# ============================================================
phase_3_demo:
  status: pending
  start_date: null
  end_date: null
  completion_pct: 0

  tasks:
    - id: "{PREFIX}-DEMO-001"
      task: "创建 UI 原型 _demos/v1_initial.html"
      status: pending
      priority: P0
      verification: "原型可运行，展示核心交互"
      completed_at: null

    - id: "{PREFIX}-DEMO-002"
      task: "创建 Mock API _demos/mock/api.js"
      status: pending
      priority: P1
      verification: "Mock 数据支持原型运行"
      completed_at: null

    - id: "{PREFIX}-DEMO-003"
      task: "完成 Demo Review 并记录"
      status: pending
      priority: P0
      verification: "30_DEMO_REVIEW.md 已创建"
      completed_at: null

# ============================================================
# Phase 4: Design（详细设计）
# ============================================================
phase_4_design:
  status: pending
  start_date: null
  end_date: null
  completion_pct: 0

  tasks:
    - id: "{PREFIX}-DESIGN-001"
      task: "编写 40_DESIGN_FINAL.md 技术设计文档"
      status: pending
      priority: P0
      verification: "包含架构图、API 设计、组件设计、数据流"
      completed_at: null

# ============================================================
# Phase 5: Code（开发实现）
# ============================================================
phase_5_code:
  status: pending
  start_date: null
  end_date: null
  completion_pct: 0

  tasks:
    # 按模块拆分任务，示例：
    # - id: "{PREFIX}-001"
    #   task: "任务描述"
    #   status: pending
    #   priority: P0
    #   verification: "验收标准"
    #   depends_on: []           # 依赖的任务 ID 列表
    #   completed_at: null
    #   notes: ""

    - id: "{PREFIX}-001"
      task: "【待拆分】根据 50_DEV_PLAN.md 添加具体任务"
      status: pending
      priority: P0
      completed_at: null

# ============================================================
# Phase 6: Test（测试验证）
# ============================================================
phase_6_test:
  status: pending
  start_date: null
  end_date: null
  completion_pct: 0

  tasks:
    - id: "{PREFIX}-TEST-001"
      task: "编写 60_TEST_PLAN.md 测试计划"
      status: pending
      priority: P0
      completed_at: null

    - id: "{PREFIX}-TEST-002"
      task: "执行测试并记录 61_TEST_REPORT.md"
      status: pending
      priority: P0
      verification: "所有测试用例通过"
      completed_at: null

# ============================================================
# Phase 7: Deploy（发布上线）
# ============================================================
phase_7_deploy:
  status: pending
  start_date: null
  end_date: null
  completion_pct: 0

  tasks:
    - id: "{PREFIX}-DEPLOY-001"
      task: "编写 70_RELEASE_NOTE.md 发布说明"
      status: pending
      priority: P0
      completed_at: null

    - id: "{PREFIX}-DEPLOY-002"
      task: "部署到生产环境"
      status: pending
      priority: P0
      verification: "功能在生产环境可用"
      completed_at: null

# ============================================================
# Claude Code 断点恢复信息
# ============================================================
cc_checkpoint:
  session_id: ""                             # 会话 ID，如 "cc-2024-12-11-xxx"
  last_file_edited: ""                       # 最后编辑的文件
  last_action: ""                            # 最后执行的操作
  next_step: ""                              # 下一步计划
  context_files: []                          # 相关文件列表
  implementation_summary: []                 # 已完成任务摘要

# ============================================================
# 统计信息（由工具自动更新）
# ============================================================
stats:
  by_phase:
    phase_1_kickoff:
      total: 2
      done: 0
      pending: 2
      status: "pending"
    phase_2_spec:
      total: 1
      done: 0
      pending: 1
      status: "pending"
    phase_3_demo:
      total: 3
      done: 0
      pending: 3
      status: "pending"
    phase_4_design:
      total: 1
      done: 0
      pending: 1
      status: "pending"
    phase_5_code:
      total: 1
      done: 0
      pending: 1
      status: "pending"
    phase_6_test:
      total: 2
      done: 0
      pending: 2
      status: "pending"
    phase_7_deploy:
      total: 2
      done: 0
      pending: 2
      status: "pending"

  summary:
    total_tasks: 12
    done: 0
    wip: 0
    pending: 12
    blocked: 0
    completion_rate: "0%"

  next_milestone: "完成 Phase 1 Kickoff"

# ============================================================
# 模板使用说明（创建后删除此段）
# ============================================================
# 使用方法：
# 1. 复制此文件到 docs/{feature_id}/90_PROGRESS_LOG.yaml
# 2. 替换所有 {placeholder} 占位符：
#    - {feature_id}: 功能目录名，如 "github-doc-viewer"
#    - {feature_name}: 功能显示名，如 "GitHub 文档查看器"
#    - {PREFIX}: 任务 ID 前缀，如 "GDV"（取功能名首字母）
#    - {owner}: 负责人，如 "Huan"
#    - {start_date}: 开始日期，如 "2024-12-11"
#    - {target_date}: 目标日期，如 "2024-12-15"
#    - {timestamp}: ISO 8601 时间戳
# 3. 删除此说明段
# 4. 根据实际需求调整 Phase 5 的任务列表
#
# 任务状态说明：
# - done: 已完成
# - wip: 进行中
# - pending: 待开始
# - blocked: 被阻塞（需在 notes 中说明原因）
#
# 优先级说明：
# - P0: 必须完成，阻塞后续工作
# - P1: 重要但不阻塞
# - P2: 可选优化
