# 01_USER_JOURNEY.md
# {项目名} - 用户旅程

> 版本：v0.1
> 产品负责人：{owner_name}
> 最后更新：{date}
> 状态：Draft

---

## 关于本文档

> **本文档是 Phase 0 Foundation 的第一份文档，也是整个系统设计的「需求起源」。**
>
> **核心原则**：
> - 从用户视角出发，不涉及技术实现
> - 任何人/AI 在 10 分钟内能在脑中完整"跑一遍系统"
> - 后续的模块、架构、路线图都必须可追溯到本文档

---

## 1. 用户画像

> 用 3 句话回答：谁？来干什么？核心目标是什么？

### 1.1 主要用户

| 用户类型 | 描述 | 核心目标 |
|----------|------|----------|
| {用户A} | {一句话描述} | {他最想达成的结果} |
| {用户B} | {一句话描述} | {他最想达成的结果} |

### 1.2 用户来源

用户从哪里来？为什么会使用这个系统？

```
{例如：用户通过搜索引擎找到产品，希望解决 XX 问题}
```

---

## 2. 主成功路径（Happy Path）

> **重要**：这是系统最核心的用户流程，必须完整、无歧义。
> 每一步用 `U{N}` 编号，后续用于模块映射。

### 2.1 流程概览

```
U1 → U2 → U3 → U4 → U5 → 成功
```

### 2.2 详细步骤

#### U1: {第一步名称}

```
用户动作：{用户做什么}
系统响应：{系统如何回应}
成功标志：{怎样算这一步完成}
```

#### U2: {第二步名称}

```
用户动作：{用户做什么}
系统响应：{系统如何回应}
成功标志：{怎样算这一步完成}
```

#### U3: {第三步名称}

```
用户动作：{用户做什么}
系统响应：{系统如何回应}
成功标志：{怎样算这一步完成}
```

#### U4: {第四步名称}

```
用户动作：{用户做什么}
系统响应：{系统如何回应}
成功标志：{怎样算这一步完成}
```

#### U5: {最终步骤}

```
用户动作：{用户做什么}
系统响应：{系统如何回应}
成功标志：{用户最终达成的目标}
```

---

## 3. 关键失败路径

> 列出 3-5 个最可能发生的失败场景，以及系统如何处理。

### F1: {失败场景名称}

```
触发条件：{什么情况下会发生}
发生在：U{N} 之后
系统处理：{系统如何告知用户、如何恢复}
用户下一步：{用户可以做什么}
```

### F2: {失败场景名称}

```
触发条件：{什么情况下会发生}
发生在：U{N} 之后
系统处理：{系统如何告知用户、如何恢复}
用户下一步：{用户可以做什么}
```

### F3: {失败场景名称}

```
触发条件：{什么情况下会发生}
发生在：U{N} 之后
系统处理：{系统如何告知用户、如何恢复}
用户下一步：{用户可以做什么}
```

---

## 4. 系统责任声明

> **重要**：这是模块拆分的「母体」。
> 明确每一步系统必须做什么、绝不能做什么。

### 4.1 主路径系统责任

| 用户步骤 | 系统必须做 | 系统绝不能做 |
|----------|-----------|-------------|
| U1 | {校验什么、生成什么、返回什么} | {例如：不能暴露敏感信息} |
| U2 | {校验什么、生成什么、返回什么} | {例如：不能阻塞用户} |
| U3 | {校验什么、生成什么、返回什么} | {例如：不能丢失数据} |
| U4 | {校验什么、生成什么、返回什么} | {例如：不能重复处理} |
| U5 | {校验什么、生成什么、返回什么} | {例如：不能无响应} |

### 4.2 失败路径系统责任

| 失败场景 | 系统必须做 | 恢复机制 |
|----------|-----------|----------|
| F1 | {如何告知用户} | {如何让用户重试或继续} |
| F2 | {如何告知用户} | {如何让用户重试或继续} |
| F3 | {如何告知用户} | {如何让用户重试或继续} |

---

## 5. 用户步骤 → 模块映射表

> **强制要求**：
> - 所有 P0 模块必须至少映射到 1 个用户步骤
> - 使用 `03_MODULE_DECOMPOSITION.md` 中定义的 Module ID
> - 不允许存在"无法追溯到用户步骤"的 P0 模块

### 5.1 映射表

| 用户步骤 | 步骤描述 | 系统责任摘要 | 对应模块 |
|----------|----------|-------------|----------|
| U1 | {描述} | {一句话责任} | M001 {name} |
| U2 | {描述} | {一句话责任} | M001 {name}, M002 {name} |
| U3 | {描述} | {一句话责任} | M002 {name} |
| U4 | {描述} | {一句话责任} | M003 {name} |
| U5 | {描述} | {一句话责任} | M003 {name}, M004 {name} |

### 5.2 模块覆盖检查

| Module ID | 模块名称 | 覆盖的用户步骤 | 优先级 | 状态 |
|-----------|----------|---------------|--------|------|
| M001 | {name} | U1, U2 | P0 | ✅ 已映射 |
| M002 | {name} | U2, U3 | P0 | ✅ 已映射 |
| M003 | {name} | U4, U5 | P1 | ✅ 已映射 |
| M004 | {name} | U5 | P2 | ✅ 已映射 |

> **校验规则**：
> - 所有 P0 模块的「覆盖的用户步骤」列不能为空
> - 如果为空 → Foundation Gate BLOCK

---

## 6. 边界与约束

### 6.1 用户流程边界

**用户可以做的**：
- {列举用户被允许的操作}

**用户不能做的**：
- {列举用户被禁止或系统不支持的操作}

### 6.2 系统边界

**系统负责的**：
- {列举系统必须处理的事项}

**系统不负责的（需要外部系统）**：
- {列举需要依赖外部的事项}

---

## 7. 验收标准

> 当整个用户旅程可用时，应该满足什么条件？

### 7.1 功能验收

| 验收项 | 验收标准 | 验收方式 |
|--------|----------|----------|
| 主路径完整 | 用户可从 U1 走到 U5，无阻塞 | 人工测试 / 自动化 |
| 失败可恢复 | F1-F3 场景用户可感知并恢复 | 人工测试 |
| 响应时间 | 每一步响应 < {N} 秒 | 性能测试 |

### 7.2 用户体验验收

| 验收项 | 验收标准 |
|--------|----------|
| 可理解性 | 用户无需培训即可完成主路径 |
| 容错性 | 用户犯错后能清晰知道如何修正 |

---

## CHANGELOG

| 版本 | 日期 | 作者 | 变更内容 |
|------|------|------|----------|
| v0.1 | {date} | {author} | 初始版本 |
