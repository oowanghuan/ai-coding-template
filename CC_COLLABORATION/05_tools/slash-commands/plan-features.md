# /plan-features - ç”ŸæˆåŠŸèƒ½å¼€å‘é¡ºåºæ¸…å•

ä½ æ˜¯ä¸€ä¸ª AI åä½œå¼€å‘åŠ©æ‰‹ã€‚ç”¨æˆ·è¯·æ±‚ä» Phase 0 çš„æ¨¡å—åˆ’åˆ†æ–‡æ¡£ç”ŸæˆåŠŸèƒ½å¼€å‘é¡ºåºæ¸…å•ã€‚

## è®¾è®¡ç†å¿µ

> **äººç±»å•çº¿ç¨‹åŸåˆ™**ï¼šäººåœ¨å¤šä¸ª feature ä¹‹é—´å¹¶è¡Œåˆ‡æ¢æ—¶æ•ˆç‡ä½ä¸‹ã€‚
> æœ¬å‘½ä»¤åªè¾“å‡ºã€Œå¼€å‘é¡ºåºæ¸…å•ã€ï¼Œä¸æ‰¹é‡åˆ›å»ºç›®å½•ã€‚
> ç”¨æˆ·æŒ‰æ¸…å•é¡ºåºï¼Œè‡ªä¸»å†³å®šä½•æ—¶æ‰§è¡Œ `/new-feature`ã€‚

## å‚æ•°

- `$ARGUMENTS`ï¼šå¯é€‰å‚æ•° `--strict`

## ç”¨æ³•

```bash
/plan-features                    # ç”Ÿæˆå¼€å‘é¡ºåºæ¸…å•
/plan-features --strict           # ä¸¥æ ¼æ¨¡å¼ï¼šä»»ä½•æ ¡éªŒé”™è¯¯éƒ½ä¸­æ­¢ï¼ˆé»˜è®¤ï¼‰
```

---

## 1. è¾“å…¥å¥‘çº¦

### 1.1 æ•°æ®æº

**å”¯ä¸€æ•°æ®æº**ï¼š`docs/_foundation/03_MODULE_DECOMPOSITION.md`

**è§£æèŒƒå›´**ï¼šåªè§£æ `## 2. åŠŸèƒ½æ¨¡å—åˆ—è¡¨` ç« èŠ‚ä¸‹çš„**ç¬¬ä¸€å¼ è¡¨æ ¼**

```markdown
## 2. åŠŸèƒ½æ¨¡å—åˆ—è¡¨

| module_id | feature_name | æ¨¡å—åç§° | æè¿° | scope | deliverable | acceptance | priority | depends_on | risk | owner |
|-----------|--------------|----------|------|-------|-------------|------------|----------|------------|------|-------|
| M001 | user-auth | ç”¨æˆ·è®¤è¯ | ç™»å½•æ³¨å†Œ | ... | ... | ... | P0 | - | ... | @name |
```

### 1.2 å­—æ®µçº¦æŸï¼ˆå¼ºæ ¡éªŒï¼‰

| å­—æ®µ | æ ¼å¼è¦æ±‚ | å¿…å¡« | è¯´æ˜ |
|------|----------|------|------|
| `module_id` | `^M\d{3}$` | âœ… | å”¯ä¸€æ ‡è¯†ï¼Œå¦‚ M001 |
| `feature_name` | `^[a-z][a-z0-9-]*$` (kebab-case) | âœ… | å°†ä½œä¸º `docs/{feature_name}/` ç›®å½•å |
| `æ¨¡å—åç§°` | éç©ºå­—ç¬¦ä¸² | âœ… | ä¸­æ–‡åç§° |
| `æè¿°` | éç©ºå­—ç¬¦ä¸² | âœ… | ä¸€å¥è¯æè¿° |
| `scope` | éç©ºå­—ç¬¦ä¸² | âœ… | åŠŸèƒ½èŒƒå›´ï¼Œæ³¨å…¥åˆ° 10_CONTEXT |
| `deliverable` | éç©ºå­—ç¬¦ä¸² | âœ… | äº¤ä»˜ç‰©ï¼ˆAPI/UI/Tables/Jobsï¼‰ |
| `acceptance` | éç©ºå­—ç¬¦ä¸² | âœ… | éªŒæ”¶æ ‡å‡† |
| `priority` | `P0\|P1\|P2\|P3` | âœ… | ä¼˜å…ˆçº§ |
| `depends_on` | `^M\d{3}(,M\d{3})*$` æˆ– `-` | âœ… | ä¾èµ–çš„ module_idï¼Œå¤šä¸ªé€—å·åˆ†éš” |
| `risk` | å­—ç¬¦ä¸²ï¼Œå¯ä¸º `-` | âŒ | ä¸»è¦é£é™© |
| `owner` | å­—ç¬¦ä¸²ï¼Œå¯ä¸º `-` | âŒ | è´Ÿè´£äºº |

### 1.3 ä¾èµ–åˆæ³•æ€§æ£€æŸ¥

1. **å¼•ç”¨æ£€æŸ¥**ï¼š`depends_on` ä¸­çš„ module_id å¿…é¡»å­˜åœ¨äºè¡¨æ ¼ä¸­
2. **å¾ªç¯æ£€æµ‹**ï¼šä¸å…è®¸å¾ªç¯ä¾èµ–ï¼ˆAâ†’Bâ†’Câ†’Aï¼‰
3. **æ‹“æ‰‘æ’åº**ï¼šè¾“å‡ºå¼€å‘æ‰¹æ¬¡ï¼ˆBatch 1/2/3ï¼‰

---

## 2. æ‰§è¡Œæ­¥éª¤

### 2.1 å‰ç½®æ£€æŸ¥

```
1. æ£€æŸ¥ Foundation Gate æ˜¯å¦é€šè¿‡ï¼š
   - docs/_foundation/03_MODULE_DECOMPOSITION.md å­˜åœ¨
   - docs/_foundation/04_ROADMAP.md å­˜åœ¨
   - docs/_foundation/02_ARCHITECTURE.md å­˜åœ¨

2. å¦‚æœä»»ä¸€æ–‡ä»¶ä¸å­˜åœ¨ï¼š
   âŒ Foundation Gate æœªé€šè¿‡

   ç¼ºå¤±æ–‡ä»¶ï¼š
   â€¢ {missing_files}

   è¯·å…ˆå®Œæˆ Phase 0 Foundation æ–‡æ¡£ï¼š
   â€¢ æ¶æ„å¸ˆï¼šå¡«å†™ 02_ARCHITECTURE.md, 03_MODULE_DECOMPOSITION.md
   â€¢ PMï¼šå¡«å†™ 04_ROADMAP.md
```

### 2.2 è§£ææ¨¡å—è¡¨

```
1. è¯»å– 03_MODULE_DECOMPOSITION.md
2. å®šä½ "## 2. åŠŸèƒ½æ¨¡å—åˆ—è¡¨" ç« èŠ‚
3. è§£æç¬¬ä¸€å¼  Markdown è¡¨æ ¼
4. å¯¹æ¯ä¸€è¡Œè¿›è¡Œå­—æ®µæ ¡éªŒ
5. æ”¶é›†æ‰€æœ‰æ ¡éªŒé”™è¯¯
```

### 2.3 ä¾èµ–åˆ†æ

```
1. æ„å»ºä¾èµ–å›¾
2. æ£€æµ‹å¾ªç¯ä¾èµ–
3. æ‰§è¡Œæ‹“æ‰‘æ’åºï¼Œè¾“å‡ºæ‰¹æ¬¡ï¼š
   - Batch 1ï¼šæ— ä¾èµ–çš„æ¨¡å—
   - Batch 2ï¼šä»…ä¾èµ– Batch 1 çš„æ¨¡å—
   - Batch 3ï¼šä¾èµ– Batch 1/2 çš„æ¨¡å—
   - ...
```

### 2.4 ç”Ÿæˆå¼€å‘é¡ºåºæ¸…å•

åŸºäºæ‹“æ‰‘æ’åºç»“æœï¼Œç”Ÿæˆæ¸…å•æ–‡ä»¶ï¼š

```
1. æŒ‰ Batch åˆ†ç»„ï¼ŒBatch å†…æŒ‰ module_id æ’åº
2. æ£€æŸ¥æ¯ä¸ª feature ç›®å½•æ˜¯å¦å·²å­˜åœ¨
3. è¾“å‡ºæ¸…å•åˆ° docs/_foundation/FEATURE_CHECKLIST.md
```

### 2.5 ç”Ÿæˆæ¸…å•æ–‡ä»¶

è¾“å‡ºæ¸…å•æ–‡ä»¶ï¼š`docs/_foundation/FEATURE_CHECKLIST.md`

```markdown
# Feature å¼€å‘é¡ºåºæ¸…å•

> ç”Ÿæˆæ—¶é—´ï¼š{datetime}
> æ•°æ®æºï¼šdocs/_foundation/03_MODULE_DECOMPOSITION.md
>
> **ä½¿ç”¨æ–¹å¼**ï¼šæŒ‰é¡ºåºé€ä¸ªæ‰§è¡Œ `/new-feature`ï¼Œå®Œæˆä¸€ä¸ªå†å¼€å§‹ä¸‹ä¸€ä¸ª

---

## å¼€å‘é¡ºåº

### Batch 1ï¼ˆæ— ä¾èµ–ï¼Œå¯å¹¶è¡Œï¼‰

| é¡ºåº | module_id | feature_name | æ¨¡å—åç§° | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|------|-----------|--------------|----------|--------|------|
| 1 | M001 | user-auth | ç”¨æˆ·è®¤è¯ | P0 | â³ å¾…å¼€å§‹ |

**å½“å‰åº”åš**ï¼š`/new-feature user-auth`

---

### Batch 2ï¼ˆä¾èµ– Batch 1ï¼‰

| é¡ºåº | module_id | feature_name | æ¨¡å—åç§° | ä¾èµ– | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|------|-----------|--------------|----------|------|--------|------|
| 2 | M002 | user-profile | ç”¨æˆ·èµ„æ–™ | M001 | P1 | ğŸ”’ ç­‰å¾… M001 |
| 3 | M003 | dashboard | ä»ªè¡¨ç›˜ | M001 | P1 | ğŸ”’ ç­‰å¾… M001 |

---

### Batch 3ï¼ˆä¾èµ– Batch 1/2ï¼‰

| é¡ºåº | module_id | feature_name | æ¨¡å—åç§° | ä¾èµ– | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|------|-----------|--------------|----------|------|--------|------|
| 4 | M004 | reports | æŠ¥è¡¨ | M002,M003 | P2 | ğŸ”’ ç­‰å¾… M002,M003 |

---

## çŠ¶æ€è¯´æ˜

| çŠ¶æ€ | å«ä¹‰ |
|------|------|
| â³ å¾…å¼€å§‹ | å¯ä»¥å¼€å§‹ï¼Œæ‰§è¡Œ `/new-feature {name}` |
| ğŸ”’ ç­‰å¾… | ä¾èµ–æœªå®Œæˆï¼Œæš‚ä¸å¯å¼€å§‹ |
| ğŸš§ è¿›è¡Œä¸­ | å·²åˆ›å»ºç›®å½•ï¼Œæ­£åœ¨å¼€å‘ |
| âœ… å·²å®Œæˆ | å·²é€šè¿‡æ‰€æœ‰ Phase Gate |

---

## å¿«é€Ÿå‘½ä»¤

```bash
# æŸ¥çœ‹å½“å‰åº”åšçš„ feature
/plan-features --next

# åˆ›å»ºä¸‹ä¸€ä¸ª feature
/new-feature {feature_name}

# æŸ¥çœ‹æŸä¸ª feature è¿›åº¦
/check-progress {feature_name}
```
```

---

## 3. å¤±è´¥ç­–ç•¥

### 3.1 ä¸¥æ ¼æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰

```
ä»»ä½•ä¸€è¡Œæ ¡éªŒå¤±è´¥ â†’ ä¸ç”Ÿæˆæ¸…å•

âŒ æ ¡éªŒå¤±è´¥

é”™è¯¯åˆ—è¡¨ï¼š
1. M002: feature_name "UserProfile" ä¸ç¬¦åˆ kebab-case
2. M003: depends_on "M999" ä¸å­˜åœ¨
3. M004 â†’ M005 â†’ M004: æ£€æµ‹åˆ°å¾ªç¯ä¾èµ–

è¯·ä¿®å¤ 03_MODULE_DECOMPOSITION.md åé‡è¯•
```

---

## 4. è¾“å‡ºç¤ºä¾‹

### 4.1 æˆåŠŸæ‰§è¡Œ

```
âœ… Feature å¼€å‘é¡ºåºæ¸…å•å·²ç”Ÿæˆ

æ•°æ®æºï¼šdocs/_foundation/03_MODULE_DECOMPOSITION.md
ç”Ÿæˆæ—¶é—´ï¼š2024-12-31T12:00:00

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š è§£ææ‘˜è¦ï¼š
  æ€»æ¨¡å—æ•°ï¼š5
  æ ¡éªŒé€šè¿‡ï¼š5
  æ ¡éªŒå¤±è´¥ï¼š0

ğŸ“¦ å¼€å‘æ‰¹æ¬¡ï¼š
  Batch 1: M001 (user-auth)
  Batch 2: M002 (user-profile), M003 (dashboard)
  Batch 3: M004 (reports), M005 (settings)

ğŸ“ è¾“å‡ºæ–‡ä»¶ï¼š
  âœ… docs/_foundation/FEATURE_CHECKLIST.md

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ ä¸‹ä¸€æ­¥ï¼š
  1. æŸ¥çœ‹æ¸…å•ï¼šdocs/_foundation/FEATURE_CHECKLIST.md
  2. æŒ‰é¡ºåºå¼€å§‹ï¼š/new-feature user-auth
  3. å®Œæˆå½“å‰ feature æ‰€æœ‰ Phase åå†å¼€å§‹ä¸‹ä¸€ä¸ª
```

### 4.2 å·²æœ‰è¿›è¡Œä¸­çš„ Feature

```
âœ… Feature å¼€å‘é¡ºåºæ¸…å•å·²æ›´æ–°

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š å½“å‰è¿›åº¦ï¼š
  âœ… å·²å®Œæˆï¼š1 (M001 user-auth)
  ğŸš§ è¿›è¡Œä¸­ï¼š1 (M002 user-profile)
  â³ å¾…å¼€å§‹ï¼š3

ğŸ“¦ å½“å‰åº”åšï¼š
  M002 user-profile (Phase 3 Demo)

ğŸ’¡ ç»§ç»­å¼€å‘ï¼š
  /check-progress user-profile
```

---

## 5. æ³¨æ„äº‹é¡¹

1. **Foundation Gate**ï¼šå¿…é¡»å…ˆé€šè¿‡ Foundation Gate æ‰èƒ½è¿è¡Œæ­¤å‘½ä»¤
2. **å”¯ä¸€æ•°æ®æº**ï¼šåªä» 03_MODULE_DECOMPOSITION.md è¯»å–ï¼Œä¸è¯»å–å…¶ä»–æ–‡ä»¶
3. **æ¸…å•å¯é‡å¤ç”Ÿæˆ**ï¼šæ¯æ¬¡æ‰§è¡Œä¼šæ›´æ–° FEATURE_CHECKLIST.mdï¼Œè‡ªåŠ¨æ£€æµ‹å·²åˆ›å»ºçš„ feature ç›®å½•
4. **äººç±»å•çº¿ç¨‹**ï¼šå»ºè®®å®Œæˆå½“å‰ feature æ‰€æœ‰ Phase åå†å¼€å§‹ä¸‹ä¸€ä¸ª

## å…³è”å·¥å…·

- `/check-foundation-gate` - æ£€æŸ¥ Foundation Gate çŠ¶æ€
- `/new-feature` - åˆ›å»ºå•ä¸ªåŠŸèƒ½æ¨¡å—
- `/check-progress` - æŸ¥çœ‹åŠŸèƒ½è¿›åº¦
