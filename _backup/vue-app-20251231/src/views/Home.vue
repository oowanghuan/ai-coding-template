<template>
  <div class="home-page">
    <!-- Hero Section -->
    <div class="hero-section">
      <div class="container">
        <div class="hero-content">
          <h1 class="hero-title">ğŸš€ AI æ—¶ä»£å›¢é˜Ÿè½¬å‹è“å›¾</h1>
          <p class="hero-subtitle">ä»ä¼ ç»Ÿå¼€å‘åˆ° AI é©±åŠ¨çš„ç»„ç»‡å˜é©å®Œæ•´æŒ‡å—</p>
          <p class="hero-description">
            å½“ AI coding è®©ç¼–ç æˆæœ¬æ¥è¿‘ä¸ºé›¶ï¼ŒçœŸæ­£çš„ç“¶é¢ˆæ˜¯ä»€ä¹ˆï¼Ÿ<br/>
            å¦‚ä½•é‡æ„å›¢é˜Ÿè§’è‰²ã€å·¥ä½œæµç¨‹å’Œåä½œæ–¹å¼ï¼Ÿ<br/>
            è¿™ä»½æ–‡æ¡£æä¾›ä»ç†è®ºåˆ°å®è·µçš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚
          </p>
          <div class="hero-buttons">
            <el-button type="primary" size="large" @click="scrollToSection('overview')">
              <el-icon class="el-icon--left"><Reading /></el-icon>
              å¼€å§‹äº†è§£
            </el-button>
            <el-button size="large" @click="scrollToSection('roles')">
              <el-icon class="el-icon--left"><UserFilled /></el-icon>
              æŸ¥çœ‹å²—ä½
            </el-button>
          </div>
        </div>
      </div>
    </div>

    <!-- Part 1: èƒŒæ™¯ä¸æ€»è§ˆ -->
    <div id="overview" class="content-section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">ğŸ“– èƒŒæ™¯ä¸æ€»è§ˆ</h2>
          <p class="section-subtitle">ç†è§£ä¸ºä»€ä¹ˆè¦å˜ï¼Œä»¥åŠå¦‚ä½•å˜é©å›¢é˜Ÿç»“æ„</p>
        </div>

        <el-row :gutter="24">
          <el-col :xs="24" :sm="12" :lg="6" v-for="(card, index) in overviewCards" :key="index">
            <el-card class="overview-card card-hover" shadow="hover" :body-style="{ padding: '32px' }">
              <div class="card-icon">{{ card.icon }}</div>
              <h3 class="card-title">{{ card.title }}</h3>
              <p class="card-desc">{{ card.description }}</p>
              <ul class="card-list">
                <li v-for="(item, i) in card.points" :key="i">{{ item }}</li>
              </ul>
              <el-button type="primary" text class="card-action" @click="handleCardClick(card.link)">
                æŸ¥çœ‹è¯¦æƒ…
                <el-icon class="el-icon--right"><ArrowRight /></el-icon>
              </el-button>
            </el-card>
          </el-col>
        </el-row>
      </div>
    </div>

    <!-- Part 2: å…­å¤§å²—ä½ -->
    <div id="roles" class="roles-section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">ğŸ‘¥ å…­å¤§æ ¸å¿ƒå²—ä½</h2>
          <p class="section-subtitle">æ¯ä¸ªå²—ä½éƒ½æœ‰æ˜ç¡®çš„èŒè´£è¾¹ç•Œã€èƒ½åŠ›è¦æ±‚å’Œå·¥å…·ç®±</p>
        </div>

        <el-row :gutter="24">
          <el-col :xs="24" :sm="12" :lg="8" v-for="role in homeRoles" :key="role.id">
            <el-card
              class="role-card card-hover"
              shadow="hover"
              :body-style="{ padding: '28px' }"
              @click="goToRole(role.id)"
            >
              <div class="role-card-header">
                <div class="role-icon">{{ role.icon }}</div>
                <div class="role-badge" :style="{ background: role.color }">
                  {{ role.badge }}
                </div>
              </div>
              <h3 class="role-title" :style="{ color: role.color }">{{ role.title }}</h3>
              <p class="role-tagline">{{ role.tagline }}</p>
              <p class="role-description">{{ role.description }}</p>
              <ul class="role-highlights">
                <li v-for="(highlight, index) in role.highlights" :key="index">{{ highlight }}</li>
              </ul>
              <el-button
                type="primary"
                class="role-button"
                :style="{ background: role.color, borderColor: role.color }"
              >
                æŸ¥çœ‹è¯¦æƒ…
                <el-icon class="el-icon--right"><ArrowRight /></el-icon>
              </el-button>
            </el-card>
          </el-col>
        </el-row>
      </div>
    </div>

    <!-- Part 3: èµ„æºä¸å·¥å…· -->
    <div id="resources" class="content-section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">ğŸ› ï¸ èµ„æºä¸å·¥å…·</h2>
          <p class="section-subtitle">Prompt æ¨¡æ¿ã€è§„èŒƒæ–‡æ¡£ã€è‡ªåŠ¨åŒ–å·¥å…·</p>
        </div>

        <el-row :gutter="24">
          <el-col :xs="24" :md="8" v-for="(resource, index) in resources" :key="index">
            <el-card class="resource-card card-hover" shadow="hover" :body-style="{ padding: '32px', textAlign: 'center' }">
              <div class="resource-icon">{{ resource.icon }}</div>
              <h3 class="card-title">{{ resource.title }}</h3>
              <p class="card-desc">{{ resource.description }}</p>
              <el-button type="primary" text class="card-action" @click="handleResourceClick(resource.link)">
                {{ resource.linkText }}
                <el-icon class="el-icon--right"><ArrowRight /></el-icon>
              </el-button>
            </el-card>
          </el-col>
        </el-row>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import { useRouter } from 'vue-router'
import { ArrowRight, Reading, UserFilled } from '@element-plus/icons-vue'

const router = useRouter()

// å…­å¤§æ ¸å¿ƒå²—ä½æ•°æ®ï¼ˆä¸ RolesOverview ä¿æŒä¸€è‡´ï¼‰
const homeRoles = ref([
  {
    id: 'pm',
    icon: 'ğŸ¬',
    title: 'é¡¹ç›®ç»ç† / Producer',
    tagline: 'èŠ‚å¥ä¸äº¤ä»˜ Owner',
    badge: 'èŠ‚å¥ç®¡ç†',
    color: '#06beb6',
    description: 'åŸºäºã€Œä¸šåŠ¡ç›®æ ‡ + æ¶æ„æ–¹æ¡ˆã€ï¼Œå®‰æ’"è°åœ¨ä»€ä¹ˆæ—¶å€™æŠŠä»€ä¹ˆä¸œè¥¿äº¤ä»˜å‡ºæ¥"ï¼Œå¹¶æŒç»­ç®¡ç†ä¾èµ–ã€é£é™©å’Œèµ„æºã€‚',
    highlights: [
      'åŸºäºæ¶æ„æ–¹æ¡ˆåšé¡¹ç›®æ‹†è§£',
      'èŠ‚å¥ä¸é‡Œç¨‹ç¢‘ç®¡ç†',
      'ä¾èµ–ä¸èµ„æºç®¡ç†',
      'é£é™©ä¸æ²Ÿé€šç®¡ç†'
    ]
  },
  {
    id: 'architect',
    icon: 'ğŸ—ï¸',
    title: 'ç³»ç»Ÿæ¶æ„å¸ˆ',
    tagline: 'æŠ€æœ¯ç»“æ„ä¸è§„èŒƒ Owner',
    badge: 'ç»“æ„è®¾è®¡',
    color: '#1e3c72',
    description: 'è´Ÿè´£å®šä¹‰ç³»ç»Ÿçš„ã€ŒæŠ€æœ¯ç»“æ„å’Œç»Ÿä¸€è§„èŒƒã€ï¼Œè®©æ‰€æœ‰æ¨¡å—ã€æ‰€æœ‰è§’è‰²ï¼ˆåŒ…æ‹¬ AIï¼‰éƒ½åœ¨åŒä¸€å¥—æŠ€æœ¯è§„åˆ™ä¸‹å·¥ä½œã€‚',
    highlights: [
      'ç³»ç»Ÿç»“æ„è®¾è®¡ï¼ˆæ¨¡å—åˆ’åˆ†ã€æ•°æ®æµï¼‰',
      'å…¬å¸çº§/é¡¹ç›®çº§æŠ€æœ¯è§„èŒƒ',
      'AI ä½¿ç”¨ä¸å·¥ç¨‹è§„åˆ™',
      'æŠ€æœ¯å†³ç­–ä¸é£é™©è¯„ä¼°'
    ]
  },
  {
    id: 'ai-pe',
    icon: 'â­',
    title: 'AI äº§å“å·¥ç¨‹å¸ˆ',
    tagline: 'æŠŠã€Œéœ€æ±‚/UI â†’ Spec â†’ Demo â†’ æµ‹è¯•åœºæ™¯ã€ä¸²æˆé—­ç¯çš„äºº',
    badge: 'æ ¸å¿ƒè§’è‰²',
    color: '#667eea',
    description: 'è´Ÿè´£å•ä¸ªä¸šåŠ¡æ¨¡å—çš„ã€Œéœ€æ±‚å·¥ç¨‹åŒ–ã€ï¼šä»æ¨¡ç³Šéœ€æ±‚ + UI è®¾è®¡ï¼Œåˆ°ç»“æ„åŒ– Specã€å¯è¿è¡Œ Demo ä¸æµ‹è¯•åœºæ™¯ã€‚',
    highlights: [
      'ç¼–å†™ç»“æ„åŒ– Spec',
      'ç”Ÿæˆä¸è°ƒè¯•å‰ç«¯ Demo',
      'æ¨¡å—çº§é“¾è·¯ Owner',
      'è·¨è§’è‰²åè°ƒ'
    ]
  },
  {
    id: 'ui-designer',
    icon: 'ğŸ¨',
    title: 'UI è§„åˆ™è®¾è®¡å¸ˆ',
    tagline: 'è®¾è®¡ä¸€å¥—ã€Œå¯è¢« AI å’Œå¼€å‘æ‰§è¡Œã€çš„ UI è§„åˆ™ç³»ç»Ÿ',
    badge: 'Design System',
    color: '#f093fb',
    description: 'ä¸ç”»å•ä¸ªç•Œé¢ï¼Œè€Œæ˜¯ç»´æŠ¤ Design System ä¸ UI è§„åˆ™ä½“ç³»ï¼Œè®© AI å’Œå·¥ç¨‹äººå‘˜ç”Ÿæˆé£æ ¼ç»Ÿä¸€çš„ç•Œé¢ã€‚',
    highlights: [
      'Design Tokens è®¾è®¡',
      'ç»„ä»¶åº“åŠçŠ¶æ€å®šä¹‰',
      'ç¼–å†™ UI Prompt è§„åˆ™',
      'å®¡æ ¸ AI ç”Ÿæˆçš„ UI'
    ]
  },
  {
    id: 'backend',
    icon: 'âš™ï¸',
    title: 'åç«¯å·¥ç¨‹å¸ˆ',
    tagline: 'å°† Spec ä¸­å®šä¹‰çš„è¡Œä¸ºï¼Œè½åœ°ä¸ºç¨³å®šå¯é ã€å¯è§‚æµ‹çš„åç«¯ç³»ç»Ÿ',
    badge: 'ä¸šåŠ¡é€»è¾‘',
    color: '#11998e',
    description: 'æ ¹æ® Spec å’Œ API è¡Œä¸ºè§„èŒƒï¼Œå®ç°åç«¯æœåŠ¡ä¸æ•°æ®åº“ç»“æ„ï¼Œä¿è¯æ­£ç¡®æ€§ã€æ€§èƒ½ã€å¯ç»´æŠ¤æ€§ä¸å¯è§‚æµ‹æ€§ã€‚',
    highlights: [
      'å®ç°æ¥å£ä¸ä¸šåŠ¡é€»è¾‘',
      'è®¾è®¡æ•°æ®æ¨¡å‹ä¸ç¼“å­˜ç­–ç•¥',
      'æä¾›å¯è§‚æµ‹æ€§èƒ½åŠ›',
      'æ”¯æŒè‡ªåŠ¨åŒ–æµ‹è¯•'
    ]
  },
  {
    id: 'qa',
    icon: 'ğŸ”',
    title: 'AI QA',
    tagline: 'ä»ã€Œæ‰‹å·¥æ‰§è¡Œç”¨ä¾‹çš„äººã€å‡çº§ä¸ºã€Œæµ‹è¯•è§„åˆ™å·¥ç¨‹å¸ˆã€',
    badge: 'Rulebook Testing',
    color: '#ff9800',
    description: 'åŸºäº Spec å’Œä¸šåŠ¡è§„åˆ™ï¼Œè®¾è®¡ç»“æ„åŒ–æµ‹è¯•è§„åˆ™ï¼ˆRulebookï¼‰ï¼Œè®© AI / è‡ªåŠ¨åŒ–å·¥å…·æ‰§è¡Œå¤§éƒ¨åˆ†æµ‹è¯•ã€‚',
    highlights: [
      'ä» Spec æå–æµ‹è¯•ç»´åº¦',
      'ç¼–å†™ç»“æ„åŒ– Rulebook',
      'æ­å»ºè‡ªåŠ¨åŒ–æµ‹è¯•ç®¡çº¿',
      'åˆ†ææµ‹è¯•ç»“æœä¸å½’å› '
    ]
  }
])

const overviewCards = ref([
  {
    icon: 'ğŸ’¡',
    title: 'ä¸€åˆ‡çš„å¼€å§‹',
    description: 'ä¸€åœºå…³äº AI æ—¶ä»£å›¢é˜Ÿå˜é©çš„æ·±åº¦å¯¹è¯',
    points: [
      'AI ä»‹å…¥åå¼€å‘æµç¨‹çš„å›°æƒ‘',
      'æœªæ¥å²—ä½å®šä½çš„æ¢ç´¢',
      'ChatGPT çš„æ·±åº¦åˆ†æä¸è§£ç­”'
    ],
    link: '/the-beginning'
  },
  {
    icon: 'ğŸ¤”',
    title: 'ä¸ºä»€ä¹ˆè¦å˜',
    description: 'AI coding æ”¹å˜äº†ä»€ä¹ˆï¼Ÿå›¢é˜Ÿé¢ä¸´ä»€ä¹ˆæ–°æŒ‘æˆ˜ï¼Ÿ',
    points: [
      'ç¼–ç æˆæœ¬è¶‹è¿‘äºé›¶',
      'æ–°ç“¶é¢ˆï¼šéœ€æ±‚ & æ¶æ„ & ä¸€è‡´æ€§',
      'ä¼ ç»Ÿåˆ†å·¥æ¨¡å¼å¤±æ•ˆ'
    ],
    link: '/why-change'
  },
  {
    icon: 'ğŸ”„',
    title: 'æ€ä¹ˆå˜ï¼šæ–°æ¶æ„',
    description: 'é‡æ„å›¢é˜Ÿç»“æ„ï¼Œæ˜ç¡®æ–°çš„è§’è‰²å®šä½ä¸åä½œæ–¹å¼',
    points: [
      'AI Product Engineer ä½œä¸ºæ ¸å¿ƒ',
      'æ¶æ„å¸ˆå‰ç½®è®¾è®¡',
      '6 ä¸ªæ˜ç¡®åˆ†å·¥çš„å²—ä½'
    ],
    link: '/team-structure'
  },
  {
    icon: 'ğŸ¤',
    title: 'è§’è‰²ä¸åä½œ',
    description: 'å„å²—ä½å¦‚ä½•é…åˆï¼Œç¡®ä¿é«˜æ•ˆäº§å‡º',
    points: [
      'Kickoff æ˜ç¡®æ¶æ„',
      'Spec + Schema ç»Ÿä¸€ç†è§£',
      'è§„åˆ™åŒ–é™ä½æ²Ÿé€šæˆæœ¬'
    ],
    link: '/roles-overview'
  }
])

const resources = ref([
  {
    icon: 'ğŸ“',
    title: 'Prompt æ¨¡æ¿åº“',
    description: 'ç»“æ„åŒ– Prompt æ¨¡æ¿ï¼Œå¤åˆ¶å³ç”¨',
    linkText: 'æŸ¥çœ‹æ¨¡æ¿',
    link: '/resources#prompts'
  },
  {
    icon: 'ğŸ“',
    title: 'è§„èŒƒæ–‡æ¡£',
    description: 'Design Systemã€API è§„èŒƒã€æµ‹è¯•è§„èŒƒ',
    linkText: 'æŸ¥çœ‹è§„èŒƒ',
    link: '/resources#standards'
  },
  {
    icon: 'ğŸ¤–',
    title: 'è‡ªåŠ¨åŒ–å·¥å…·',
    description: 'Subagentã€æµ‹è¯•è„šæœ¬ã€ä»£ç ç”Ÿæˆå™¨',
    linkText: 'æŸ¥çœ‹å·¥å…·',
    link: '/resources#tools'
  }
])

const scrollToSection = (sectionId) => {
  const element = document.getElementById(sectionId)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth', block: 'start' })
  }
}

const handleCardClick = (link) => {
  if (link.includes('#')) {
    // å¤„ç†å¸¦å“ˆå¸Œçš„è·¯ç”±é“¾æ¥ï¼Œå¦‚ /resources#prompts
    const [path, hash] = link.split('#')
    if (path.startsWith('/')) {
      router.push(link)
    } else {
      // çº¯å“ˆå¸Œé“¾æ¥ï¼Œå¦‚ #section
      scrollToSection(hash)
    }
  } else if (link.startsWith('/')) {
    router.push(link)
  } else if (link.startsWith('#')) {
    const sectionId = link.substring(1)
    scrollToSection(sectionId)
  }
}

const handleResourceClick = (link) => {
  handleCardClick(link)
}

const goToRole = (roleId) => {
  router.push(`/role/${roleId}`)
}
</script>

<style scoped>
.home-page {
  min-height: 100%;
}

/* ========== Hero Section ========== */
.hero-section {
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
  color: white;
  padding: var(--spacing-xxl) 0;
  position: relative;
  overflow: hidden;
}

.hero-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: radial-gradient(circle, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
  background-size: 30px 30px;
  opacity: 0.3;
}

.hero-content {
  position: relative;
  z-index: 1;
  text-align: center;
  max-width: 900px;
  margin: 0 auto;
}

.hero-title {
  font-size: 40px;
  font-weight: var(--font-weight-bold);
  margin-bottom: var(--spacing-lg);
  line-height: 1.2;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.hero-subtitle {
  font-size: var(--font-size-xl);
  margin-bottom: var(--spacing-lg);
  font-weight: var(--font-weight-medium);
  opacity: 0.95;
}

.hero-description {
  font-size: var(--font-size-md);
  line-height: var(--line-height-relaxed);
  margin-bottom: var(--spacing-xl);
  opacity: 0.9;
}

.hero-buttons {
  display: flex;
  gap: var(--spacing-md);
  justify-content: center;
  flex-wrap: wrap;
}

/* ========== Content Sections ========== */
.content-section {
  padding: var(--spacing-xxl) 0;
}

.roles-section {
  background-color: #fff;
  padding: var(--spacing-xxl) 0;
}

.section-header {
  text-align: center;
  margin-bottom: var(--spacing-xxl);
}

.section-title {
  font-size: var(--font-size-hero);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-sm);
  line-height: 1.3;
}

.section-subtitle {
  font-size: var(--font-size-lg);
  color: var(--color-text-secondary);
  font-weight: var(--font-weight-normal);
}

/* ========== Cards ========== */
.overview-card,
.resource-card {
  height: 100%;
  border-radius: var(--border-radius-lg);
  border: 1px solid var(--color-border-light);
  transition: all var(--transition-base);
  cursor: pointer;
}

.overview-card:hover,
.resource-card:hover {
  border-color: var(--color-primary);
}

.card-icon {
  font-size: 48px;
  margin-bottom: var(--spacing-md);
  line-height: 1;
}

.card-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-sm);
  line-height: 1.4;
}

.card-desc {
  font-size: var(--font-size-md);
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
  margin-bottom: var(--spacing-md);
}

.card-list {
  list-style: none;
  padding: 0;
  margin-bottom: var(--spacing-lg);
}

.card-list li {
  font-size: var(--font-size-md);
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
  padding: var(--spacing-xs) 0;
  padding-left: var(--spacing-lg);
  position: relative;
}

.card-list li::before {
  content: 'â–¸';
  position: absolute;
  left: 0;
  color: var(--color-primary);
  font-weight: var(--font-weight-bold);
}

.card-action {
  font-weight: var(--font-weight-medium);
}

/* ========== Role Cards ========== */
.role-card {
  height: 100%;
  border-radius: var(--border-radius-lg);
  border: 2px solid var(--color-border-light);
  cursor: pointer;
  transition: all var(--transition-base);
}

.role-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--color-primary-light);
}

.role-card-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: var(--spacing-md);
}

.role-icon {
  font-size: 48px;
  line-height: 1;
}

.role-badge {
  padding: var(--spacing-xs) var(--spacing-md);
  border-radius: 20px;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: white;
}

.role-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  margin-bottom: var(--spacing-xs);
  line-height: 1.3;
}

.role-tagline {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-md);
  line-height: var(--line-height-base);
}

.role-description {
  font-size: var(--font-size-md);
  color: var(--color-text-secondary);
  line-height: var(--line-height-relaxed);
  margin-bottom: var(--spacing-md);
}

.role-highlights {
  list-style: none;
  padding: 0;
  margin: 0 0 var(--spacing-lg);
}

.role-highlights li {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: var(--line-height-base);
  padding: var(--spacing-xs) 0;
  padding-left: var(--spacing-lg);
  position: relative;
}

.role-highlights li::before {
  content: 'âœ“';
  position: absolute;
  left: 0;
  font-weight: var(--font-weight-bold);
  font-size: 14px;
  color: #10b981;
}

.role-button {
  width: 100%;
  font-weight: var(--font-weight-medium);
}

/* ========== Responsive ========== */
@media (max-width: 768px) {
  .hero-section {
    padding: var(--spacing-xl) 0;
  }

  .hero-title {
    font-size: 28px;
  }

  .hero-subtitle {
    font-size: var(--font-size-md);
  }

  .hero-description {
    font-size: var(--font-size-sm);
  }

  .content-section,
  .roles-section {
    padding: var(--spacing-xl) 0;
  }

  .section-title {
    font-size: var(--font-size-xxl);
  }

  .section-subtitle {
    font-size: var(--font-size-base);
  }
}
</style>
